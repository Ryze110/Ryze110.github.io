import{_ as n,o as s,c as a,e as t}from"./app-UfWKxtAj.js";const e={},p=t(`<h2 id="è·å–é¡µé¢å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#è·å–é¡µé¢å…ƒç´ "><span>è·å–é¡µé¢å…ƒç´ </span></a></h2><ul><li><p><code>document.querySelector(&quot;é€‰æ‹©å™¨&quot;);</code></p><ul><li>é€‰æ‹©å™¨å¯ä»¥æ˜¯cssä¸­çš„ä»»æ„ä¸€ç§é€‰æ‹©å™¨</li><li>é€šè¿‡è¯¥é€‰æ‹©å™¨åªèƒ½é€‰ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ </li></ul></li><li><p><code>document.querySelectorAll(&quot;é€‰æ‹©å™¨&quot;);</code></p><ul><li>querySelectorAllä¼šè¿”å›æ‰€æœ‰ç¬¦åˆé€‰æ‹©å™¨è§„åˆ™çš„å…ƒç´ åˆ—è¡¨</li><li>querySelectorè¿”å›çš„åªæ˜¯å•ç‹¬çš„ä¸€ä¸ªå…ƒç´ </li></ul></li></ul><h2 id="ç±»åæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ç±»åæ“ä½œ"><span>ç±»åæ“ä½œ</span></a></h2><ul><li>ç»™å½“å‰domå…ƒç´ æ·»åŠ ç±»æ ·å¼ï¼š<code>Dom.classList.add(&quot;ç±»å&quot;)</code></li><li>ç»™å½“å‰domå…ƒç´ ç§»é™¤ç±»æ ·å¼ï¼š<code>Dom.classList.remove(&quot;ç±»å&quot;)</code></li><li>æ£€æµ‹æ˜¯å¦åŒ…å«ç±»æ ·å¼ï¼š<code>classList.contains(&quot;ç±»å&quot;)</code></li><li>åˆ‡æ¢ç±»æ ·å¼ï¼ˆæœ‰å°±åˆ é™¤ï¼Œæ²¡æœ‰å°±æ·»åŠ ï¼‰ï¼š<code>classList.toggle(&quot;active&quot;)</code></li></ul><h2 id="è‡ªå®šä¹‰å±æ€§" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰å±æ€§"><span>è‡ªå®šä¹‰å±æ€§</span></a></h2><p>åœ¨æ ‡ç­¾ä¸­å¯ä»¥é€šè¿‡ <code>data-è‡ªå®šä¹‰å±æ€§å</code> æ¥è‡ªå®šä¹‰å±æ€§</p><ul><li>è·å–è‡ªå®šä¹‰å±æ€§<br> Dom.dataset.å±æ€§åæˆ–è€…Dom.dataset[å±æ€§å]<br> Dom.datasetè¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</li><li>è®¾ç½®è‡ªå®šä¹‰å±æ€§<br> Dom.dataset.è‡ªå®šä¹‰å±æ€§å=å€¼ æˆ–è€… Dom.dataset[è‡ªå®šä¹‰å±æ€§å]=å€¼</li><li>æ ‡ç­¾ä¸­ä¸ºdata-test-name=&quot;123&quot;æ—¶ï¼Œè·å–æ—¶è¦ç”¨Dom.dataset.testName</li></ul><h2 id="æ–‡ä»¶è¯»å–" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶è¯»å–"><span>æ–‡ä»¶è¯»å–</span></a></h2><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="line">ä¸Šä¼ å¤´åƒ(è¯·ä¸Šä¼ png jpg gif icoæ ¼å¼çš„æ–‡ä»¶)</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upLoadImg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showLogo<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>150px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>150px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>head.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">  <span class="token keyword">var</span> file_btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#upLoadImg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">var</span> logo_wrap <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#showLogo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  file_btn<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> file <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">//åˆ¤æ–­åç¼€åæ˜¯å¦åˆæ³•</span></span>
<span class="line">    <span class="token keyword">var</span> filename <span class="token operator">=</span> file<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> imgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;.png&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.jpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gif&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.ico&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> imgs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>imgs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> filename<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">var</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        logo_wrap<span class="token punctuation">.</span>src <span class="token operator">=</span> reader<span class="token punctuation">.</span>result<span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°é€‰æ‹©&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>FileReader</code> æœ‰ä¸‰ä¸ªæ–¹æ³•ç”¨æ¥è¯»å–æ–‡ä»¶æ–¹æ³•ï¼Œè¿”å›ç»“æœåœ¨resultä¸­ <ul><li>readAsBinaryString --- å°†æ–‡ä»¶è¯»å–ä¸ºäºŒè¿›åˆ¶ç¼–ç </li><li>readAsText --- å°†æ–‡ä»¶è¯»å–ä¸ºæ–‡æœ¬</li><li>readAsDataURL --- å°†æ–‡ä»¶è¯»å–ä¸ºDataURL</li></ul></li><li><code>FileReader</code>æä¾›çš„äº‹ä»¶æ¨¡å‹ <ul><li>onabort ä¸­æ–­æ—¶è§¦å‘</li><li>onerror å‡ºé”™æ—¶è§¦å‘</li><li>onload æ–‡ä»¶è¯»å–æˆåŠŸå®Œæˆæ—¶è§¦å‘</li><li>onloadend è¯»å–å®Œæˆè§¦å‘ï¼Œæ— è®ºæˆåŠŸæˆ–å¤±è´¥</li><li>onloadstart è¯»å–å¼€å§‹æ—¶è§¦å‘</li><li>onprogress è¯»å–ä¸­</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token comment">// è·å–åˆ°æ–‡ä»¶</span></span>
<span class="line"><span class="token keyword">var</span> file <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// åˆ›å»ºè¯»å–å™¨</span></span>
<span class="line"><span class="token keyword">var</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// å¼€å§‹è¯»å–</span></span>
<span class="line">reader<span class="token punctuation">.</span><span class="token function">readAsText</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// è·å–è¯»å–çš„ç»“æœ</span></span>
<span class="line"><span class="token comment">// å½“æ–‡ä»¶è¯»å–å®Œæˆåï¼Œæ‰å¯ä»¥è·å–æ–‡ä»¶ä¿¡æ¯å†…å®¹</span></span>
<span class="line">reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span>	</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è·å–ç½‘ç»œçŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#è·å–ç½‘ç»œçŠ¶æ€"><span>è·å–ç½‘ç»œçŠ¶æ€</span></a></h2><ul><li>è·å–ç½‘ç»œçŠ¶æ€ <code>window.navigator.onLine</code> è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</li><li>ç½‘ç»œçŠ¶æ€äº‹ä»¶ <ul><li>window.ononline</li><li>window.onoffline</li></ul></li></ul><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="line">å½“å‰ç½‘ç»œçŠ¶æ€ : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onlineStatus<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> #f3f<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>--<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>  </span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">  <span class="token keyword">var</span> state <span class="token operator">=</span> window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>onLine</span>
<span class="line">  <span class="token keyword">var</span> osid <span class="token operator">=</span> <span class="token string">&#39;#onlineStatus&#39;</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>osid<span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&#39;åœ¨çº¿å‘¢ï¼&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>osid<span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&#39;æ‰çº¿å•¦ï¼&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è·å–åœ°ç†ä½ç½®" tabindex="-1"><a class="header-anchor" href="#è·å–åœ°ç†ä½ç½®"><span>è·å–åœ°ç†ä½ç½®</span></a></h2><ul><li><p>è·å–å½“å‰åœ°ç†ä½ç½®</p><p><code>window.navigator.geolocation.getCurrentPosition(success,error);</code></p><ul><li>å¦‚æœgetCurrentPosition()è¿è¡ŒæˆåŠŸï¼Œåˆ™å‘å‚æ•°successä¸­è§„å®šçš„å‡½æ•°è¿”å›ä¸€ä¸ªcoordinateså¯¹è±¡<div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">function</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// position.coords.latitude --&gt; åè¿›åˆ¶çš„çº¬åº¦</span></span>
<span class="line">  <span class="token comment">// position.coords.longitude --&gt; åè¿›åˆ¶çš„ç»åº¦</span></span>
<span class="line">  <span class="token comment">// position.coords.accuracy --&gt; ä½ç½®ç²¾åº¦</span></span>
<span class="line">  <span class="token comment">// position.coords.altitude --&gt; æµ·æ‹”ï¼Œæµ·å¹³é¢ä»¥ä¸Šä»¥ç±³è®¡</span></span>
<span class="line">  <span class="token comment">// position.coords.altitudeAccuracy --&gt; ä½ç½®çš„æµ·æ‹”ç²¾åº¦</span></span>
<span class="line">  <span class="token comment">// position.coords.heading --&gt; æ–¹å‘ï¼Œä»æ­£åŒ—å¼€å§‹ä»¥åº¦è®¡</span></span>
<span class="line">  <span class="token comment">// position.coords.speed --&gt; é€Ÿåº¦ï¼Œä»¥ç±³/æ¯ç§’è®¡</span></span>
<span class="line">  <span class="token comment">// position.timestamp --&gt; å“åº”çš„æ—¥æœŸ/æ—¶é—´</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>å¦‚æœgetCurrentPosition()è¿è¡Œå¤±è´¥ï¼Œåˆ™å‘å‚æ•°errorä¸­è§„å®šçš„å‡½æ•°è¿”å›é”™è¯¯ä¿¡æ¯<div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">function</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token string">&#39;&#39;</span></span>
<span class="line">  <span class="token keyword">switch</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">PERMISSION_DENIED</span><span class="token operator">:</span></span>
<span class="line">      msg <span class="token operator">=</span> <span class="token string">&quot;ç”¨æˆ·æ‹’ç»å¯¹è·å–åœ°ç†ä½ç½®çš„è¯·æ±‚ã€‚&quot;</span></span>
<span class="line">      <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">POSITION_UNAVAILABLE</span><span class="token operator">:</span></span>
<span class="line">      msg <span class="token operator">=</span> <span class="token string">&quot;ä½ç½®ä¿¡æ¯æ˜¯ä¸å¯ç”¨çš„ã€‚&quot;</span></span>
<span class="line">      <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">TIMEOUT</span><span class="token operator">:</span></span>
<span class="line">      msg <span class="token operator">=</span> <span class="token string">&quot;è¯·æ±‚ç”¨æˆ·åœ°ç†ä½ç½®è¶…æ—¶ã€‚&quot;</span></span>
<span class="line">      <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">case</span> error<span class="token punctuation">.</span><span class="token constant">UNKNOWN_ERROR</span><span class="token operator">:</span></span>
<span class="line">      msg <span class="token operator">=</span> <span class="token string">&quot;æœªçŸ¥é”™è¯¯ã€‚&quot;</span></span>
<span class="line">      <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">alert</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>è¿”å›ç”¨æˆ·çš„å½“å‰ä½ç½®ï¼Œå¹¶ç»§ç»­è¿”å›ç”¨æˆ·ç§»åŠ¨æ—¶çš„æ›´æ–°ä½ç½®</p><p><code>window.navigator.geolocation.watchPosition(success,error);</code></p></li><li><p>ä½¿ç”¨ <code>clearWatch()</code> å¯ä»¥åœæ­¢ <code>watchPosition()</code> æ–¹æ³•</p></li></ul><h2 id="æœ¬åœ°å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°å­˜å‚¨"><span>æœ¬åœ°å­˜å‚¨</span></a></h2><h3 id="localstorage" tabindex="-1"><a class="header-anchor" href="#localstorage"><span>localStorage</span></a></h3><ul><li>æ°¸ä¹…ç”Ÿæ•ˆ</li><li>å¤šçª—å£å…±äº«</li><li>å®¹é‡å¤§çº¦ä¸º20M</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">ğŸˆwindow.localStorage.setItem(key,value) --&gt; è®¾ç½®å­˜å‚¨å†…å®¹</span>
<span class="line"></span>
<span class="line">ğŸˆwindow.localStorage.getItem(key) --&gt; è·å–å†…å®¹</span>
<span class="line"></span>
<span class="line">ğŸˆwindow.localStorage.removeItem(key) --&gt; åˆ é™¤å†…å®¹</span>
<span class="line"></span>
<span class="line">ğŸˆwindow.localStorage.clear() --&gt; æ¸…ç©ºå†…å®¹</span>
<span class="line"></span>
<span class="line">ğŸˆwindow.localStorage.key(index) --&gt; è·å–æŒ‡å®šç´¢å¼•ä½ç½®æ•°æ®é¡¹çš„é”®å</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sessionstorage" tabindex="-1"><a class="header-anchor" href="#sessionstorage"><span>sessionStorage</span></a></h3><ul><li>ç”Ÿå‘½å‘¨æœŸä¸ºå…³é—­å½“å‰æµè§ˆå™¨çª—å£</li><li>å¯ä»¥åœ¨åŒä¸€ä¸ªçª—å£ä¸‹è®¿é—®</li><li>æ•°æ®å¤§å°ä¸º5Må·¦å³</li></ul><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code><span class="line">ğŸˆwindow.sessionStorage.setItem(key,value) --&gt; è®¾ç½®å­˜å‚¨å†…å®¹</span>
<span class="line"></span>
<span class="line">ğŸˆwindow.sessionStorage.getItem(key) --&gt; è·å–å†…å®¹</span>
<span class="line"></span>
<span class="line">ğŸˆwindow.sessionStorage.removeItem(key) --&gt; åˆ é™¤å†…å®¹</span>
<span class="line"></span>
<span class="line">ğŸˆwindow.sessionStorage.clear() --&gt; æ¸…ç©ºå†…å®¹</span>
<span class="line"></span>
<span class="line">ğŸˆwindow.sessionStorage.key(index) --&gt; è·å–æŒ‡å®šç´¢å¼•ä½ç½®æ•°æ®é¡¹çš„é”®å</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ‹–æ”¾" tabindex="-1"><a class="header-anchor" href="#æ‹–æ”¾"><span>æ‹–æ”¾</span></a></h2><ul><li>è®¾ç½®å…ƒç´ ä¸ºå¯æ‹–æ”¾<div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li>åœ¨æ‹–æ”¾çš„è¿‡ç¨‹ä¸­ä¼šè§¦å‘ä»¥ä¸‹äº‹ä»¶ <ul><li>ondragstart - ç”¨æˆ·å¼€å§‹æ‹–åŠ¨å…ƒç´ æ—¶è§¦å‘</li><li>ondrag - å…ƒç´ æ­£åœ¨æ‹–åŠ¨æ—¶è§¦å‘</li><li>ondragend - ç”¨æˆ·å®Œæˆå…ƒç´ æ‹–åŠ¨åè§¦å‘</li></ul></li><li>é‡Šæ”¾ç›®æ ‡æ—¶è§¦å‘çš„äº‹ä»¶: <ul><li>ondragenter - å½“è¢«é¼ æ ‡æ‹–åŠ¨çš„å¯¹è±¡è¿›å…¥å…¶å®¹å™¨èŒƒå›´å†…æ—¶è§¦å‘æ­¤äº‹ä»¶</li><li>ondragover - å½“æŸè¢«æ‹–åŠ¨çš„å¯¹è±¡åœ¨å¦ä¸€å¯¹è±¡å®¹å™¨èŒƒå›´å†…æ‹–åŠ¨æ—¶è§¦å‘æ­¤äº‹ä»¶</li><li>ondragleave - å½“è¢«é¼ æ ‡æ‹–åŠ¨çš„å¯¹è±¡ç¦»å¼€å…¶å®¹å™¨èŒƒå›´å†…æ—¶è§¦å‘æ­¤äº‹ä»¶</li><li>ondrop - åœ¨ä¸€ä¸ªæ‹–åŠ¨è¿‡ç¨‹ä¸­ï¼Œé‡Šæ”¾é¼ æ ‡é”®æ—¶è§¦å‘æ­¤äº‹ä»¶</li></ul></li><li>åœ¨æ‹–åŠ¨å…ƒç´ æ—¶ï¼Œæ¯éš” 350 æ¯«ç§’ä¼šè§¦å‘ ondragover äº‹ä»¶</li><li>å®ä¾‹ <ol><li>é¦–å…ˆè®¾ç½®draggable=&quot;true&quot;ä½¿å…ƒç´ å¯æ‹–åŠ¨</li></ol><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ondrop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drop(event)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ondragover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>allowDrop(event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ondragstart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag(event)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ondrop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drop(event)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ondragover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>allowDrop(event)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>å¼€å§‹æ‹–åŠ¨æ—¶è®¾ç½®è¢«æ‹–æ•°æ®çš„æ•°æ®ç±»å‹å’Œå€¼</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">function</span> <span class="token function">drag</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  ev<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&quot;Text&quot;</span><span class="token punctuation">,</span> ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>è§„å®šåœ¨ä½•å¤„æ”¾ç½®è¢«æ‹–åŠ¨çš„æ•°æ®</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">function</span> <span class="token function">allowDrop</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">//é»˜è®¤åœ°ï¼Œæ— æ³•å°†æ•°æ®/å…ƒç´ æ”¾ç½®åˆ°å…¶ä»–å…ƒç´ ä¸­ã€‚</span></span>
<span class="line">  <span class="token comment">//å¦‚æœéœ€è¦è®¾ç½®å…è®¸æ”¾ç½®ï¼Œæˆ‘ä»¬å¿…é¡»é˜»æ­¢å¯¹å…ƒç´ çš„é»˜è®¤å¤„ç†æ–¹å¼ã€‚</span></span>
<span class="line">  <span class="token comment">//è°ƒç”¨ ondragover äº‹ä»¶çš„ event.preventDefault() æ–¹æ³•è®¾ç½®å…è®¸æ”¾ç½®</span></span>
<span class="line">  ev<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span>    </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>æ”¾ç½®è¢«æ‹–æ•°æ®</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">function</span> <span class="token function">drop</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// è°ƒç”¨ preventDefault() æ¥é¿å…æµè§ˆå™¨å¯¹æ•°æ®çš„é»˜è®¤å¤„ç†ï¼ˆdrop äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºæ˜¯ä»¥é“¾æ¥å½¢å¼æ‰“å¼€ï¼‰</span></span>
<span class="line">  ev<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// é€šè¿‡ dataTransfer.getData(&quot;Text&quot;) æ–¹æ³•è·å¾—è¢«æ‹–çš„æ•°æ®ã€‚è¯¥æ–¹æ³•å°†è¿”å›åœ¨ setData() æ–¹æ³•ä¸­è®¾ç½®ä¸ºç›¸åŒç±»å‹çš„ä»»ä½•æ•°æ®ã€‚</span></span>
<span class="line">  <span class="token keyword">var</span> data <span class="token operator">=</span> ev<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">&quot;Text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token comment">// æŠŠè¢«æ‹–å…ƒç´ è¿½åŠ åˆ°æ”¾ç½®å…ƒç´ ï¼ˆç›®æ ‡å…ƒç´ ï¼‰ä¸­</span></span>
<span class="line">  ev<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="websocket" tabindex="-1"><a class="header-anchor" href="#websocket"><span>WebSocket</span></a></h2><h3 id="ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»"><span>ä»‹ç»</span></a></h3><ul><li><code>WebSocket</code> æ˜¯HTML5å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®®ã€‚</li><li>è·å– <code>WebSocket</code> è¿æ¥åï¼Œå¯ä»¥é€šè¿‡ <code>send()</code> æ–¹æ³•æ¥å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œå¹¶é€šè¿‡ <code>onmessage</code> äº‹ä»¶æ¥æ¥æ”¶æœåŠ¡å™¨è¿”å›çš„æ•°æ®ã€‚</li><li>åˆ›å»ºæ–¹æ³• <code>var Socket = new WebSocket(url, [protocal] );</code><ul><li><code>url</code>ï¼š è¿æ¥çš„ URL</li><li><code>protocal</code>ï¼š å¯æ¥å—çš„åè®®ï¼ˆå¯é€‰å‚æ•°ï¼‰</li></ul></li></ul><h3 id="å±æ€§" tabindex="-1"><a class="header-anchor" href="#å±æ€§"><span>å±æ€§</span></a></h3><ul><li><code>readyState</code> åªè¯»å±æ€§ï¼Œè¡¨ç¤ºè¿æ¥çŠ¶æ€ <ul><li>0ï¼šè¡¨ç¤ºè¿æ¥å°šæœªå»ºç«‹ã€‚</li><li>1ï¼šè¡¨ç¤ºè¿æ¥å·²å»ºç«‹ï¼Œå¯ä»¥è¿›è¡Œé€šä¿¡ã€‚</li><li>2ï¼šè¡¨ç¤ºè¿æ¥æ­£åœ¨è¿›è¡Œå…³é—­ã€‚</li><li>3ï¼šè¡¨ç¤ºè¿æ¥å·²ç»å…³é—­æˆ–è€…è¿æ¥ä¸èƒ½æ‰“å¼€ã€‚</li></ul></li><li><code>bufferedAmount</code> åªè¯»å±æ€§ï¼Œè¡¨ç¤ºå·²è¢« <code>send()</code> æ”¾å…¥æ­£åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ä¼ è¾“ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å‘å‡ºçš„ <code>UTF-8</code> æ–‡æœ¬å­—èŠ‚æ•°</li></ul><h3 id="äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶"><span>äº‹ä»¶</span></a></h3><ul><li><code>onopen</code> è¿æ¥å»ºç«‹æ—¶è§¦å‘</li><li><code>onmessage</code> å®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡ç«¯æ•°æ®æ—¶è§¦å‘</li><li><code>onerror</code> é€šä¿¡å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘</li><li><code>onclose</code> è¿æ¥å…³é—­æ—¶è§¦å‘</li></ul><h3 id="æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•"><span>æ–¹æ³•</span></a></h3><ul><li><code>send()</code> ä½¿ç”¨è¿æ¥å‘é€æ•°æ®</li><li><code>close()</code> å…³é—­è¿æ¥</li></ul>`,34),l=[p];function o(c,i){return s(),a("div",null,l)}const r=n(e,[["render",o],["__file","html5-api.html.vue"]]),d=JSON.parse('{"path":"/blogs_1/frontend/2019/html5-api.html","title":"HTML5ä¸­çš„API","lang":"en-US","frontmatter":{"title":"HTML5ä¸­çš„API","date":"2019-09-14T00:00:00.000Z","tags":["å‰ç«¯","HTML5"],"categories":["å‰ç«¯"]},"headers":[{"level":2,"title":"è·å–é¡µé¢å…ƒç´ ","slug":"è·å–é¡µé¢å…ƒç´ ","link":"#è·å–é¡µé¢å…ƒç´ ","children":[]},{"level":2,"title":"ç±»åæ“ä½œ","slug":"ç±»åæ“ä½œ","link":"#ç±»åæ“ä½œ","children":[]},{"level":2,"title":"è‡ªå®šä¹‰å±æ€§","slug":"è‡ªå®šä¹‰å±æ€§","link":"#è‡ªå®šä¹‰å±æ€§","children":[]},{"level":2,"title":"æ–‡ä»¶è¯»å–","slug":"æ–‡ä»¶è¯»å–","link":"#æ–‡ä»¶è¯»å–","children":[]},{"level":2,"title":"è·å–ç½‘ç»œçŠ¶æ€","slug":"è·å–ç½‘ç»œçŠ¶æ€","link":"#è·å–ç½‘ç»œçŠ¶æ€","children":[]},{"level":2,"title":"è·å–åœ°ç†ä½ç½®","slug":"è·å–åœ°ç†ä½ç½®","link":"#è·å–åœ°ç†ä½ç½®","children":[]},{"level":2,"title":"æœ¬åœ°å­˜å‚¨","slug":"æœ¬åœ°å­˜å‚¨","link":"#æœ¬åœ°å­˜å‚¨","children":[{"level":3,"title":"localStorage","slug":"localstorage","link":"#localstorage","children":[]},{"level":3,"title":"sessionStorage","slug":"sessionstorage","link":"#sessionstorage","children":[]}]},{"level":2,"title":"æ‹–æ”¾","slug":"æ‹–æ”¾","link":"#æ‹–æ”¾","children":[]},{"level":2,"title":"WebSocket","slug":"websocket","link":"#websocket","children":[{"level":3,"title":"ä»‹ç»","slug":"ä»‹ç»","link":"#ä»‹ç»","children":[]},{"level":3,"title":"å±æ€§","slug":"å±æ€§","link":"#å±æ€§","children":[]},{"level":3,"title":"äº‹ä»¶","slug":"äº‹ä»¶","link":"#äº‹ä»¶","children":[]},{"level":3,"title":"æ–¹æ³•","slug":"æ–¹æ³•","link":"#æ–¹æ³•","children":[]}]}],"git":{},"filePathRelative":"blogs_1/frontend/2019/html5-api.md"}');export{r as comp,d as data};
